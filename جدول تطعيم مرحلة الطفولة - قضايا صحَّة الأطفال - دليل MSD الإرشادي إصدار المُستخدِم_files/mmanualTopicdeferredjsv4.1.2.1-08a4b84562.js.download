function getTopicHelpful(){$.ajax({url:MManual.settings.topic.getTopicHelpfulUrl,type:"GET",dataType:"json",success:function(n){$("#helpfulSection").length&&(helpfulModel.helpfultext=n,ko.applyBindings(helpfulModel,$("#helpfulSection").get(0)),$("#helpfulSection").addClass("feedback--active"))},error:function(n,t,i){console.error(i)}})}function feedbackButtonClicked(n){var t=$(n).attr("data-id");return $.ajax({url:MManual.settings.topic.wasThisTopicHelpfulUrl,type:"POST",dataType:"json",data:{yesno:t},success:function(n){$("#helpfulText").html(n);$(".feedback__button").hide()},error:function(n,t,i){console.error(i)}}),MManual.analytics.notifyOpenModal(MManual.analytics.eventRateATopic),!1}function getMonographList(n){$.ajax({async:!0,crossDomain:!0,url:"/custom/Monograph/PartialMonographListView",method:"GET",data:{monographLetter:n},success:function(n){$("#partailMonographList").html(n)},failure:function(){console.log("error")}})}function getDrugPopup(n,t){$.ajax({type:"GET",url:"/custom/Monograph/MonographPopup",data:{monographName:t,productId:n},success:function(n){if($(n).attr("id")=="drugPopup"){$("#showchildpopup").html(n);$("#drugPopup").css("display","block");var i=$("#currentEdition").val();i=="Professional"&&$("#drugPopup .modaldialog__header--title").html(t);drugModalScroll("#showchildpopup");focusAndCyclic("#showchildpopup");$("body").addClass("drugMonographPopup").removeClass("drugStaticMonographPopup")}else $("#showpopup").html(n),$("#drugStaticPopup").css("display","block"),$("#drugStaticPopup .modaldialog__header--title").html(t),drugModalScroll("#showpopup"),focusAndCyclic("#showpopup"),$("body").addClass("drugStaticMonographPopup").removeClass("drugMonographPopup");mql.matches&&$("body *:not('.showMonographPopup'):not('.showMonographPopup *'):not('.printContainer'):not('.printContainer *')").attr("aria-hidden","true")},error:function(n){alert("An error occurred. Error code is "+n.status)}})}function drugMoreClick(n){var t=$(n.target).data("id"),i=$(n.target).data("title").trim();getDrugPopup(t,i)}function drugClick(n){var i=$(n.target).data("id"),t=$(n.target).html().trim();$("#showpopup").is(":empty")&&(getTopPosition=$(window).scrollTop());getDrugPopup(i,t);MManual.analytics.notifyOpenModal("Monograph",t)}function focusAndCyclic(n){previousElement=document.activeElement||document.body;var i='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])',r=document.querySelector(n),t=r.querySelectorAll(i)["0"],u=r.querySelectorAll(i),f=u[u.length-1];document.addEventListener("keydown",function(n){var i=n.key==="Tab"||n.keyCode===9;i&&(n.shiftKey?document.activeElement===t&&(f.focus(),n.preventDefault()):document.activeElement===f&&(t.focus(),n.preventDefault()))});t.focus();document.addEventListener("keydown",function(t){(t.key==="ESC"||t.keyCode===27)&&(n=="#showchildpopup"?hidePopup():hideFirstPopup())});$(n).find(".modaldialog__header--close").on("keypress",function(n){var t=n.keyCode?n.keyCode:n.which;(t==="Enter"||t===13)&&$(this).trigger("click")})}function drugModalScroll(n){var i=$(n),t=i.find(".lexi-navigation"),r=i.find(".lexi-main"),u=t.find(".lexi-navigation-items"),f=n+" #nav_";r.children("h2").each(function(n,t){var i="section_"+n,r=$(t).first().text().trim();$(t).attr("id",i);r&&u.append('<li><a href="#'+i+'" id="nav_'+i+'" onclick="navigateDrugPopup(this);">'+r+"<\/a><\/li>")});u.find("li").first().addClass("active");r.scroll(function(){var n=!0,e=15;$(r.find('h2[id^="section_"]').get().reverse()).each(function(){var r=$(this),o=$(f+r.attr("id")),i,s;if(r.position().top<25)return n=!1,i=o.offset().top+t.scrollTop()-t.offset().top-e,s=t.scrollTop(),Math.abs(i-s)>5&&(t.scrollTop(i),checkClickEvent==undefined?(u.find("li").removeClass("active"),o.parent().addClass("active")):checkClickEvent=undefined),!1});n&&t.scrollTop(i.find("#nav_section_0").offset().top+t.scrollTop()-t.offset().top)})}function navigateDrugPopup(n){var t,i,r;return checkClickEvent=!0,t=$(n),$(n).parents(".lexi-navigation-items").find("li.active").removeClass("active"),t.parent().addClass("active"),i=t.attr("id").replace("nav_",""),r=$(n).parents(".main-content.redesign").find('.lexi-main h2[id="'+i+'"]'),r[0].scrollIntoView(),!1}function hideFirstPopup(){$("#showpopup").empty();$("#drugStaticPopup").css("display","none");$(".printContainer").remove();$("body").removeClass("drugStaticMonographPopup printingContent");mql.matches&&$("body *:not('.showMonographPopup'):not('.showMonographPopup *'):not('.printContainer'):not('.printContainer *')").removeAttr("aria-hidden");previousElement&&(previousElement.focus(),previousElement=null);$(".slick-slider").slick("refresh");calculateFixedOffset();$(window).scrollTop(getTopPosition)}function hidePopup(){$("#showchildpopup").empty();$("#drugPopup").css("display","none");$(".printContainer").remove();$("#showpopup #drugStaticPopup").css("display")=="block"?$("body").removeClass("drugMonographPopup printingContent").addClass("drugStaticMonographPopup"):$("body").removeClass("drugMonographPopup printingContent");mql.matches&&$("body *:not('.showMonographPopup'):not('.showMonographPopup *'):not('.printContainer'):not('.printContainer *')").removeAttr("aria-hidden");previousElement&&(previousElement.focus(),previousElement=null);$(".slick-slider").slick("refresh");calculateFixedOffset();$("#showpopup").is(":empty")&&$(window).scrollTop(getTopPosition)}function removeClassActive(){$(".drug__letter-pager .letter-pager a.active").removeClass("active")}function calculateFixedOffset(){var i=$(".l-layer--letterspine").height()||0,r=$(".l-layer--letterspine"),n=$(".l-layer--header").outerHeight(),t=$(".l-layer--mainmenu"),u=$(".l-layer--breadcrumb.sticky");fixedOffset=0;t.css("top",n);r.css("top",n+t.height());u.css("top",n+t.height()+i)}function printMonographPopup(n){var i,t;$(".printContainer").remove();i=$(n.target).parents(".showMonographPopup").attr("id")=="drugStaticPopup"?$("#drugStaticPopup")[0].innerHTML:$("#drugPopup")[0].innerHTML;t=$('<div class="printContainer"><\/div>');t.html(i);$("body").append(t).addClass("printingContent");window.onbeforeprint=function(){$("section.description").addClass("hide-on-print")};window.print();window.onafterprint=function(){t.remove();$("body").removeClass("printingContent")}}function MLinkpopup(n){var t={item:ko.mapping.fromJS(n),listName:"TopicMultimedia",options:{loadLocations:!1,hideTitle:!1,displaySingleItem:!0,PopupTitle:n.MediaNameTranslated}};return MManual.Feature.MultimediaPopup.ViewModel.showPopup(t),!1}var helpfulModel,getTopPosition,checkClickEvent,fixedOffset,MManual;(function(n){function r(){var t=n(".othertopics__link--active");if(t.length){var u=n(".sidebar .in-this-topic-sidebar .box__header").outerHeight()||0,i=n(".sidebar.main__sidebar--topic .othertopics .box__content"),f=document.querySelector(".sidebar.main__sidebar--topic .othertopics .box__content").getBoundingClientRect(),e=document.querySelector(".othertopics__link--active").getBoundingClientRect(),o=e.top-f.top,r=o-i.height()+t.height()+i.scrollTop()+u+14;r>0&&n(".sidebar.main__sidebar--topic .othertopics .box__content").scrollTop(r)}}function u(){var t=n(".main-header").height(),i=n(".l-layer--mainmenu").height(),r=n(".l-layer--letterspine").height(),u=n(".l-layer--breadcrumb").height()||0,f=n(window).height(),e=n(".sidebar .in-this-topic-sidebar .box__header").outerHeight()||0,o=n(".sidebar .othertopics__header").outerHeight()||0;n(".sidebar .othertopics").length&&n(".sidebar .othertopics").find("div.box__content").css("height",f-t-i-r-u-n(".othertopics").find(".othertopics__header").height()-e-o-10+"px")}var f=n(".sidebar__sticky .othertopics").clone(),i,t;n(".footer-topicList-wrapper").append(f);n(".sticky-footer--topic, .sticky-footer--version-switcher.topicpage").css("display","flex");n(".sticky-footer--version-switcher.nontopicpage").css("display","none");i=n(".othertopics").length||0;t=n(".topic-section-heading-list ul li").length||0;t>0&&n(".in-this-topic-sidebar").css("display","flex");t<1&&i<1&&n(".sticky-footer--topic").css("display","none");u();r();n(window).resize(function(){u();r()})})(jQuery,MManual),function(n,t){n(document).ready(function(){t.Components.Topic.Carousels=n(".inlinemedia--slider").inlineMedia().init();n(function(){n(".hero__mobile__accordion ").accordion({heightStyle:"content",active:!1,collapsible:!0,activate:function(){n(".hero__description").ellipsis()}})});n(function(){n(".hero__mobile__accordion.disabled ").accordion("option","disabled",!0)});n("img[usemap]").rwdImageMaps();window.addEventListener("resize",function(){n("img[usemap]").rwdImageMaps()},!1);n(".inlinemedia__title").ellipsis()})}(jQuery,MManual);helpfulModel={helpfultext:ko.observable("")};$(document).ready(function(){$(".feedback__button").click(function(){feedbackButtonClicked(this)});getTopicHelpful()});var monographInputText,previousElement=null,mq=MManual.Helpers.mq,mql=mq.maxWidth(mq.TABLET);$(document).ready(function(){$(".drug__letter-pager .letter-pager a:first").addClass("active")});$(".drug__letter-pager .letter-pager a").click(function(){$(".letter-pager a").removeClass("active");$(this).addClass("active");$("#monograph-autocomplete").val("");monographInputText=$(".drug__letter-pager .letter-pager .active").text();getMonographList(monographInputText)});$(document).on("keypress",".drug__letter-pager .letter-pager a",function(n){var t=n.keyCode?n.keyCode:n.which;(t==="Enter"||t===13)&&$(this).trigger("click")});$(document).on("keypress",".drug-table tbody tr td div",function(n){var t=n.which?n.which:n.keyCode;(t==="Enter"||t===13)&&drugClick(n)});$(document).on("keypress",".topic__table tbody tr td div",function(n){var t=n.which?n.which:n.keyCode;(t==="Enter"||t===13)&&drugClick(n)});$(document).on("keypress",".resolvedDrug",function(n){var t=n.which?n.which:n.keyCode;(t==="Enter"||t===13)&&drugClick(n)});$(function(){$("#monograph-autocomplete").autocomplete({minLength:3,appendTo:$(".monograph__search-all-input-area"),source:function(n,t){$.ajax({url:"/custom/Monograph/AutoCompleteMonographSuggestion",dataType:"json",data:{searchedText:n.term},success:function(n){t(n)}})},classes:{"ui-autocomplete":"highlight"}});$("#monograph-autocomplete").on("keypress",function(n){n.which==13&&$(this).val()&&(monographInputText=$(this).val(),getMonographList(monographInputText),$("#monograph-autocomplete").autocomplete("close"),removeClassActive())});$("#monograph-autocomplete").on("autocompleteselect",function(n,t){monographInputText=t.item.value;getMonographList(monographInputText);removeClassActive()});$("#drugGlassIcon").click(function(){$("#monograph-autocomplete").val()&&(monographInputText=$("#monograph-autocomplete").val(),getMonographList(monographInputText),removeClassActive())});$("#monograph-autocomplete").on("blur, change, focusout, keyup",function(){$("#monograph-autocomplete").val()==""&&(monographInputText=$(".drug__letter-pager .letter-pager a:first").text(),getMonographList(monographInputText),removeClassActive(),$(".drug__letter-pager .letter-pager a:first").addClass("active"))})});mql.matches&&$(".drug__letter-pager").addClass("hide-on-print");$(".monograph-tabs-nav li:first").addClass("monograph-tab-active");$(".monograph-tabs-nav li:first a").on("click",function(n){n.preventDefault();$(".monograph-tabs-nav li").removeClass("monograph-tab-active");$(this).parent().addClass("monograph-tab-active");$(".drug__letter-input").css("display")=="none"&&($(".drug__letter-pager").css("display","none"),$(".drug__letter-input").css("display","block"),$(".drug__letter-pager").addClass("hide-on-print"),$(".drug__letter-input").removeClass("hide-on-print"))});$(".monograph-tabs-nav li:last a").on("click",function(n){n.preventDefault();$(".monograph-tabs-nav li").removeClass("monograph-tab-active");$(this).parent().addClass("monograph-tab-active");$(".drug__letter-pager").css("display")=="none"&&($(".drug__letter-input").css("display","none"),$(".drug__letter-pager").css("display","block"),$(".drug__letter-input").addClass("hide-on-print"),$(".drug__letter-pager").removeClass("hide-on-print"))});fixedOffset=0;$(document).on("keypress",".modaldialog__action--print",function(n){var t=n.which?n.which:n.keyCode;(t==="Enter"||t===13)&&printMonographPopup(n)});(function(n){n.fn.fixedHeadersTable=function(){"use strict";function y(){v=r.outerWidth();l=t.find(".table-box").outerWidth();c=n(u).outerHeight();h=t.offset().top}function d(){if(t.find("tr.tableHead1").length>1){if(t.find("tr.tableHead1").first().next().hasClass("tableHead1"))return;i=t.find("tr.tableHead1")}else if(t.find("tr.tableHead2").length>1){if(t.find("tr.tableHead2").first().next().hasClass("tableHead2"))return;i=t.find("tr.tableHead2")}if(i!==null&&i.find("td[rowspan]").length>0&&(i=null),i!=null){e=[];i.each(function(){var t=n(this),i;t.find("td").each(function(){n(this).data("cloneorigin",this)});i=t.clone(!0).addClass("fixed");e.push(i);t.after(i);t.data("fixedclone",i);i.css("display","none");t.addClass("no-fixed-copy")});o.off("scroll.stickies").on("scroll.stickies",function(){w()})}}function p(){e!=null&&(n.each(e,function(){var t=n(this);t.css("width",l);t.css("min-width",l);t.css("top",c+h+"px");t.find("td").each(function(){var t=n(this).data("cloneorigin");n(this).width(n(t).outerWidth());n(this).css("min-width",n(t).outerWidth())})}),n.each(i,function(){var i=n(this);n.data(i[0],"pos",i.offset().top-r.offset().top+t.offset().top-n(window).scrollTop())}))}function w(){if(i!=null){var t=-1;i.each(function(i){var r=n(this),u=n.data(r[0],"pos");u<=o.scrollTop()+c+h&&(t=i)});i.each(function(i){var u=n(this),r=u.data("fixedclone");r&&(i===t?h+c>window.innerHeight*.75?r.css("display","none"):r.css("display",""):r.css("display","none"))})}}function g(){u.find("td").each(function(){n(this).data("cloneorigin",this)});u.find("th").each(function(){n(this).data("cloneorigin",this)});f=u.clone(!0);s=n("<table><\/table>").addClass("fixed-header");n(r).after(s);f.appendTo(s);n(u).addClass("no-fixed-copy")}function b(){n(f).find("td").each(function(){var t=n(this).data("cloneorigin");n(this).width(n(t).width());n(this).css("max-width",n(t).outerWidth())});n(f).find("th").each(function(){var t=n(this).data("cloneorigin");n(this).width(n(t).width());n(this).css("max-width",n(t).outerWidth())});n(s).css("width",l);n(s).css("min-width",l);n(s).css("top",h+"px");n(f).css("width",v)}function a(){f.css("left",r.offset().left-t.offset().left+"px");n.each(e,function(){n(this).find("td").each(function(){n(this).css("left",r.offset().left-t.offset().left+"px")});n(this).find("th").each(function(){n(this).css("left",r.offset().left-t.offset().left+"px")})})}function nt(){f.css("left","");n.each(e,function(){n(this).find("td").each(function(){n(this).css("left","")});n(this).find("th").each(function(){n(this).css("left","")})})}function tt(){r.on("touchmove",function(){r.offset().left<=0&&a()});r.on("touchend",function(){a();setTimeout(function(){a()},800)});t.on("scroll",function(){a()})}function k(){y();b();p();window.innerWidth<v?a():nt()}function it(){t=o;r=t.find("table");u=r.find("thead");y();g();b();tt();n(window).on("resize",k);d();p();w()}function rt(){r.off("touchmove");r.off("touchend");t.off("scroll");window.off("resize",k);o.off("scroll.stickies");u&&(u.find("td").each(function(){n(this).removeData("cloneorigin")}),u.find("th").each(function(){n(this).removeData("cloneorigin")}));i&&n.each(i,function(){var t=n(this);t.removeData("fixedclone");t.find("td").each(function(){n(this).removeData("cloneorigin")})});f&&n(f).remove();s&&n(s).remove();e&&n.each(e,function(){n(this).remove()});o.find(".no-fixed-copy").removeClass("no-fixed-copy");h=0;i=null;e=[];u=null;f=null;c=null;r=null;t=null}var o=this,h=0,i=null,e=[],u=null,f=null,s=null,c=null,v=null,r=null,t=null,l=null;return o.init=it,o.destroy=rt,o}})(jQuery,window.MManual=window.MManual||{}),function(){function r(n,t){var i=n.data("rows");return i||(i=n.find(t.rowSelector),n.data("rows",i)),i}function u(n,t){var i=[];return n.each(function(n,r){i[n]=t.predicate(r)}),i}function f(n,t){n.each(function(n,i){t[n]?$(i).show():$(i).hide()})}function e(n,t,i){var r=i.hideElementSelector?$(i.hideElementSelector):n;return t?r.show():r.hide(),r}function o(n){return n.some(function(n){return n})}function n(n,t){var i=t.hideElementSelector?$(t.hideElementSelector):n;return i[0].id}function t(n,t){var r=n.data("options");return r||(r={},$.extend(r,i,t()),n.data("options",r)),r}var i={predicate:function(){return!0},rowSelector:"tbody tr",hideElementSelector:"",noMatchingRows:function(){},filtered:function(){},register:function(){}};ko.bindingHandlers.filterTable={init:function(i,r){var u=$(i),f=t(u,r),e=n(u,f);f.register(e)},update:function(i,s){var c=$(i),h=t(c,s),a=r(c,h),v=u(a,h),l=o(v),y;e(c,l,h);l&&f(a,v);y=n(c,h);h.filtered(y,l)}}}(),function(n){var t=document.querySelector("#topicResources"),i;t&&(n.TopicResourcesType={},n.TopicResourceViewModel=function(t,i){var r=this;return r.thumbnailUrl=ko.observable(),r.type=i,$.extend(r,t),i===n.TopicResourcesType.Video&&$.ajax({url:"/Custom/Topic/GetBrightcoveVideosThumbnails",type:"POST",data:{videoId:r.BrightcoveVideoId},async:!0,success:function(n){r.thumbnailUrl(n)}}),r},n.TopicResourcePanelViewModel=function(){var n=this;return n.activeGroup=ko.observable(),n.activateGroup=function(t){var i,r;n.activeGroup()===t?(n.activeGroup(""),i=$("#topicResources .hero__header").height(),$("#topicResources").height(i),$("#topicResources .hero__header .hero__link").attr("aria-expanded",!1)):(n.activeGroup(t),i=$("#topicResources .hero__header").height(),r=$("#topicResources .hero__content").outerHeight(),$("#topicResources").height(i+r),$("#topicResources .hero__header .hero__cell--active .hero__link").attr("aria-expanded",!0))},n},i=new n.TopicResourcePanelViewModel,ko.applyBindings(i,t))}(window.MManual=window.MManual||{}),function(n){var t;(function(t){var i;(function(t){var r=n.Foundation.Presentation.Logging,o=n.Foundation.Presentation.EventBus,f=n.Foundation.Presentation.MediaQuery,e=function(){function n(){var n=this.init.bind(this);o.addEventListener("multimedia.popup.table.show",n)}return n.prototype.init=function(){this.initToolTip()},n.prototype.initToolTip=function(){var n=this,t=jQuery('a[data-toggle="tooltip"]').filter(function(n,t){var i=jQuery(t),r=i.data("ui-tooltip");return!!r==!1}).each(function(t,i){var r=jQuery(i),o=r.attr("data-itemid"),f=r.attr("data-id"),u,e;f&&(u=jQuery("#"+f).html(),u)&&(e={content:function(){return u},position:{my:"left top+15",at:"left bottom",collision:"flipfit"},open:n.openToolTip,close:n.closeToolTip},r.tooltip(e))})},n.prototype.openToolTip=function(n,t){if(typeof n=="undefined")return!1;var i=t.tooltip,r=$(i).attr("id");$("div.ui-tooltip").not("#"+r).remove()},n.prototype.closeToolTip=function(n,t){var i=t.tooltip;i.hover(function(){return i.stop(!0).fadeTo(400,1)},function(){return i.fadeOut("1000",function(){return i.remove()})})},n.Name="WikiLinks",n}(),u,i;t.Component=e;i="data-preview-container";f.onBreakPoint(f.TABLET,function(){},function(){var t,f;u||(u=new e,t=$("["+i+"]"),t.length>0?(r.Info("Found element that contains "+i,"WikiLinks"),f=$(t[0]).data("preview-container"),r.Info("Container that should be used to search for wikilinks = '"+f+"'","WikiLinks"),u.init({containerSelector:f,itemId:n.Foundation.Context.Item.SitecoreId})):r.Info("Unable to find any element with  "+i,"WikiLinks"))})})(i=t.WikiLinks||(t.WikiLinks={}))})(t=n.Feature||(n.Feature={}))}(MManual||(MManual={}))